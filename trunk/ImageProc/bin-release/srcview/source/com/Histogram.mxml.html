<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Histogram.mxml</title>
<link rel="stylesheet" type="text/css" href="../../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="MXMLComponent_Tag">&lt;mx:Canvas</span><span class="MXMLDefault_Text">  xmlns:mx=&quot;</span><span class="MXMLString">http://www.adobe.com/2006/mxml</span><span class="MXMLDefault_Text">&quot; 
            xmlns:comp=&quot;</span><span class="MXMLString">com.*</span><span class="MXMLDefault_Text">&quot;
            horizontalScrollPolicy=&quot;</span><span class="MXMLString">off</span><span class="MXMLDefault_Text">&quot;
            verticalScrollPolicy=&quot;</span><span class="MXMLString">off</span><span class="MXMLDefault_Text">&quot;
            width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot; height=&quot;</span><span class="MXMLString">300</span><span class="MXMLDefault_Text">&quot;
            creationComplete=&quot;</span><span class="ActionScriptDefault_Text">onCreationComplete</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;
            mouseMove=&quot;</span><span class="ActionScriptDefault_Text">onMouseMoveSlider</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">&quot;
            mouseUp=&quot;</span><span class="ActionScriptDefault_Text">onMouseUp</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
            
    <span class="MXMLSpecial_Tag">&lt;mx:Metadata&gt;</span>
        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;change&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flash.events.Event&quot;</span><span class="ActionScriptBracket/Brace">)]</span>    
    <span class="MXMLSpecial_Tag">&lt;/mx:Metadata&gt;</span>        
    
    <span class="MXMLSpecial_Tag">&lt;mx:Script&gt;</span>
        <span class="ActionScriptOperator">&lt;!</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CDATA</span><span class="ActionScriptBracket/Brace">[</span>
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">FlexEvent</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bmpSrc</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">BitmapData</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bmpDes</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">BitmapData</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cmbChoices</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">AUTO_CONTRAST</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;AUTO_CONTRAST&quot;</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">AUTO_QUARTER_PTS</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;AUTO_QUARTER_PTS&quot;</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">AUTO_CURVE</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;AUTO_CURVE&quot;</span>;
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">COLOR_RGB</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptDefault_Text">x888888</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">COLOR_RED</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptDefault_Text">xFF0000</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">COLOR_GRN</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptDefault_Text">x00FF00</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">COLOR_BLU</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptDefault_Text">x0000FF</span>;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">COLOR_ALP</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptDefault_Text">xFF000000</span>;
        
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CHANNEL_RGB</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CHANNEL_RED</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 1;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CHANNEL_GRN</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 2;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CHANNEL_BLU</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 3;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CHANNEL_ALP</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 4;
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CTRL_BLK</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CTRL_GAM</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 1;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CTRL_WHT</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 2;
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">SPACER</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 6;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">TRACK_MIN</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>0;
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>255;
            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastMousePos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">autoSetting</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;&quot;</span>;
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">histProcessor</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">HistogramProcessor</span>;
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;
            
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onCreationComplete</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">cmbChoices</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;RGB&quot;</span>, <span class="ActionScriptString">&quot;Red&quot;</span>, <span class="ActionScriptString">&quot;Green&quot;</span>, <span class="ActionScriptString">&quot;Blue&quot;</span>, <span class="ActionScriptString">&quot;Alpha&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">moveIn</span>.<span class="ActionScriptDefault_Text">end</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">moveIn</span>.<span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">curveCtrl</span>.<span class="ActionScriptDefault_Text">onMove</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;IN&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">boxControls</span>.<span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
            
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bmpControls</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">BitmapData</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">BitmapData</span><span class="ActionScriptBracket/Brace">(</span>256, 20, <span class="ActionScriptReserved">false</span>, 0<span class="ActionScriptDefault_Text">xFFFFFF</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">bmpControls</span>.<span class="ActionScriptDefault_Text">fillRect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Rectangle</span><span class="ActionScriptBracket/Brace">(</span>0, 10, <span class="ActionScriptDefault_Text">TRACK_MAX</span>, 1<span class="ActionScriptBracket/Brace">)</span>, 0<span class="ActionScriptDefault_Text">x00</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">imgControls</span>.<span class="ActionScriptDefault_Text">source</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bmpControls</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptDefault_Text">histProcessor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">HistogramProcessor</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>    

<span class="ActionScriptComment">///////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="ActionScriptComment">// properties
</span>
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">bmpSource</span> <span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">BitmapData</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">bmpSrc</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">bmpResult</span> <span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">BitmapData</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">bmpDes</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">auto</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">adjust</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">autoSetting</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">adjust</span>;    
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">bmpSource</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bmp</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">BitmapData</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">bmpSrc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">bmp</span>.<span class="ActionScriptDefault_Text">clone</span><span class="ActionScriptBracket/Brace">()</span>;    
                
                <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">bitmap</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">bmpSrc</span>;
                <span class="ActionScriptDefault_Text">InitSlideCtrl</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">onChangeChannel</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>

<span class="ActionScriptComment">///////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="ActionScriptComment">// Initialization 
</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">InitSlideCtrl</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">slideCtrl</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CHANNEL_RGB</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span>0, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">/</span>2, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CHANNEL_RED</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span>0, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">/</span>2, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CHANNEL_GRN</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span>0, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">/</span>2, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CHANNEL_BLU</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span>0, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">/</span>2, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CHANNEL_ALP</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">=</span><span class="ActionScriptBracket/Brace">[</span>0, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">/</span>2, <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptDefault_Text">setSlideCtrl</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setSlideCtrl</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">channel</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getChannel</span><span class="ActionScriptBracket/Brace">()</span>;

                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">channel</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_BLK</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">channel</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_WHT</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">channel</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_GAM</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span>;
                                    
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">txtBlk</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">channel</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_BLK</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">txtWht</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">channel</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_WHT</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">txtGam</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span><span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">*</span>2<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            
<span class="ActionScriptComment">///////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="ActionScriptComment">// Buttons pressed
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onEffectEnd</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">onClickHist</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onClickIcon</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">boxControls</span>.<span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">true</span>;
                
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">boxControls</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptOperator">-</span>300 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">moveOut</span>.<span class="ActionScriptDefault_Text">end</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">moveOut</span>.<span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">visible</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">moveIn</span>.<span class="ActionScriptDefault_Text">end</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">moveIn</span>.<span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onClickHist</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">curveCtrl</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">&lt;</span> 0 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">curveCtrl</span>.<span class="ActionScriptDefault_Text">onMove</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;OUT&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">btnHist</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Histogram&quot;</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">curveCtrl</span>.<span class="ActionScriptDefault_Text">onMove</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;IN&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptDefault_Text">btnHist</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Curve&quot;</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onClickPreview</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">btnPreview</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Preview&quot;</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">btnPreview</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Original&quot;</span>;
                    <span class="ActionScriptDefault_Text">bmpDes</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">bmpSrc</span>.<span class="ActionScriptDefault_Text">clone</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;change&quot;</span><span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">btnPreview</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Preview&quot;</span>;
                    <span class="ActionScriptDefault_Text">HistogramProcess</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">onChangeCurve</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onClickOK</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">bmpDes</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptReserved">return</span>;
                    
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">bmpSrc</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptDefault_Text">bmpSrc</span>.<span class="ActionScriptDefault_Text">dispose</span><span class="ActionScriptBracket/Brace">()</span>;
                    
                <span class="ActionScriptDefault_Text">bmpSrc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">bmpDes</span>.<span class="ActionScriptDefault_Text">clone</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;change&quot;</span><span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptDefault_Text">onDefaultSlider</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onClickAuto</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onClickCancel</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">bmpDes</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptDefault_Text">bmpDes</span>.<span class="ActionScriptDefault_Text">dispose</span><span class="ActionScriptBracket/Brace">()</span>;
                
                <span class="ActionScriptComment">// reset curves
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lut</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">HistTable</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">getHistLUT</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">curveCtrl</span>.<span class="ActionScriptDefault_Text">onCreationComplete</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">curveCtrl</span>.<span class="ActionScriptDefault_Text">curve</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">lut</span>.<span class="ActionScriptDefault_Text">Table</span>;
                
                <span class="ActionScriptComment">// reset histogram    
</span>                <span class="ActionScriptDefault_Text">bmpDes</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">bmpSrc</span>.<span class="ActionScriptDefault_Text">clone</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;change&quot;</span><span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptDefault_Text">onDefaultSlider</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onChangeChannel</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lut</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">HistTable</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">getHistLUT</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getHistColor</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">colorChannel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span>;
                <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">drawHistogram</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lut</span>, <span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">curveCtrl</span>.<span class="ActionScriptDefault_Text">Color</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">clr</span>;
                <span class="ActionScriptDefault_Text">curveCtrl</span>.<span class="ActionScriptDefault_Text">curve</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">lut</span>.<span class="ActionScriptDefault_Text">Table</span>;
                <span class="ActionScriptDefault_Text">setSlideCtrl</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onDefaultSlider</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">/</span>2<span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">txtBlk</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;0&quot;</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">txtGam</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;1.0&quot;</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">txtWht</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;255&quot;</span>;    
            <span class="ActionScriptBracket/Brace">}</span>
            
<span class="ActionScriptComment">///////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="ActionScriptComment">// Mouse move histogram controls
</span>
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">imgBlkFocus</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">imgGamFocus</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">imgWhtFocus</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMouseDownBlk</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">imgBlkFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptBracket/Brace">}</span>
             
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onChangeBlk</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">pos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">parseInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">txtBlk</span>.<span class="ActionScriptDefault_Text">text</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">pos</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">TRACK_MAX</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">pos</span> <span class="ActionScriptOperator">&gt;=</span> <span class="ActionScriptDefault_Text">TRACK_MIN</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">pos</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span>;
                    <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">onMouseOverHist</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;&quot;</span>,<span class="ActionScriptReserved">false</span>, <span class="ActionScriptReserved">false</span>,<span class="ActionScriptDefault_Text">pos</span>,0<span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getChannel</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_BLK</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">pos</span> <span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_BLK</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">pos</span>;
                        <span class="ActionScriptDefault_Text">HistogramProcess</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMouseDownWht</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">imgWhtFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// -------------------------------------------------------------------------- 
</span>            <span class="ActionScriptComment">// White has changed, record new location and invoke image processing.
</span>            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onChangeWht</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">pos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">parseInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">txtWht</span>.<span class="ActionScriptDefault_Text">text</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">pos</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">TRACK_MAX</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">pos</span> <span class="ActionScriptOperator">&gt;=</span> <span class="ActionScriptDefault_Text">TRACK_MIN</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">pos</span>;
                    <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">onMouseOverHist</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;&quot;</span>,<span class="ActionScriptReserved">false</span>, <span class="ActionScriptReserved">false</span>,<span class="ActionScriptDefault_Text">pos</span>,0<span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getChannel</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_WHT</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">pos</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_WHT</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">pos</span>;
                        <span class="ActionScriptDefault_Text">HistogramProcess</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptComment">// Record the action of mouse down on gamma button
</span>            <span class="ActionScriptComment">// onMouseMoveSlider will be active now
</span>            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMouseDownGam</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">imgGamFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptBracket/Brace">}</span>
             
            <span class="ActionScriptComment">// -------------------------------------------------------------------------- 
</span>            <span class="ActionScriptComment">// Gamma has changed, record new location and invoke image processing
</span>            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onChangeGam</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">pos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">txtGam</span>.<span class="ActionScriptDefault_Text">text</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">pos</span> <span class="ActionScriptOperator">&gt;=</span> 0 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">pos</span> <span class="ActionScriptOperator">&lt;=</span> 2 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">pos</span> <span class="ActionScriptOperator">/</span> 2.0 <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">onMouseOverHist</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;&quot;</span>,<span class="ActionScriptReserved">false</span>, <span class="ActionScriptReserved">false</span>,<span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">x</span>,0<span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getChannel</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_GAM</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">slideCtrl</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">clr</span><span class="ActionScriptBracket/Brace">][CT</span><span class="ActionScriptDefault_Text">RL_GAM</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span>;
                        <span class="ActionScriptDefault_Text">HistogramProcess</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptComment">// Moving the slider
</span>            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMouseMoveSlider</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">imgBlkFocus</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span> <span class="ActionScriptOperator">&gt;=</span> <span class="ActionScriptDefault_Text">TRACK_MIN</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span> <span class="ActionScriptOperator">&lt;=</span> <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span>  <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span>;
                        <span class="ActionScriptDefault_Text">txtBlk</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">onMouseOverHist</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">imgWhtFocus</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span> <span class="ActionScriptOperator">&gt;=</span> <span class="ActionScriptDefault_Text">TRACK_MIN</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span> <span class="ActionScriptOperator">&lt;=</span> <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span>;
                        <span class="ActionScriptDefault_Text">txtWht</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">onMouseOverHist</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">imgGamFocus</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span> <span class="ActionScriptOperator">&gt;=</span> <span class="ActionScriptDefault_Text">TRACK_MIN</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span> <span class="ActionScriptOperator">&lt;=</span> <span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">SPACER</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span>;
                        <span class="ActionScriptDefault_Text">txtGam</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">mouseX</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span><span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">*</span>2<span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">histCtrl</span>.<span class="ActionScriptDefault_Text">onMouseOverHist</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptComment">// Apply gamma or histogram equalization if mouse up from slider
</span>            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMouseUp</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">imgBlkFocus</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">imgBlkFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">HistogramProcess</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">onChangeBlk</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">imgWhtFocus</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">imgWhtFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">HistogramProcess</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">onChangeWht</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">imgGamFocus</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">imgGamFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    
                    <span class="ActionScriptDefault_Text">onChangeGam</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
<span class="ActionScriptComment">///////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="ActionScriptComment">// Heavy lifting - image processing
</span>
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptComment">// process image based on curves
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onChangeCurve</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">bmpDes</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">histProcessor</span>.<span class="ActionScriptDefault_Text">doLookUp</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bmpSrc</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">curveCtrl</span>.<span class="ActionScriptDefault_Text">LUT</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">btnPreview</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Preview&quot;</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bmpDes</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptComment">// need to add a loop to create another cummulative histogram later
</span>                    <span class="ActionScriptComment">// to show new changes.
</span>                    <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;change&quot;</span><span class="ActionScriptBracket/Brace">))</span>;    
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptComment">// process image based on histogram changes
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">HistogramProcess</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">gamma</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">imgGam</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span><span class="ActionScriptDefault_Text">TRACK_MAX</span><span class="ActionScriptOperator">*</span>2;
                <span class="ActionScriptDefault_Text">bmpDes</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">histProcessor</span>.<span class="ActionScriptDefault_Text">process</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bmpSrc</span>, <span class="ActionScriptDefault_Text">imgBlk</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span>, <span class="ActionScriptDefault_Text">imgWht</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">SPACER</span>, <span class="ActionScriptDefault_Text">gamma</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">btnPreview</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Preview&quot;</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bmpDes</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;change&quot;</span><span class="ActionScriptBracket/Brace">))</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptComment">// return a color to fill UI
</span>            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getHistColor</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span>     <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;RGB&quot;</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span><span class="ActionScriptDefault_Text">COLOR_RGB</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Red&quot;</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span><span class="ActionScriptDefault_Text">COLOR_RED</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Green&quot;</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span><span class="ActionScriptDefault_Text">COLOR_GRN</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Blue&quot;</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span><span class="ActionScriptDefault_Text">COLOR_BLU</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">COLOR_ALP</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptComment">// return an index for array selection
</span>            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getChannel</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> 
            <span class="ActionScriptComment">// --------------------------------------------------------------------------
</span>            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span>     <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;RGB&quot;</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span><span class="ActionScriptDefault_Text">CHANNEL_RGB</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Red&quot;</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span><span class="ActionScriptDefault_Text">CHANNEL_RED</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Green&quot;</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span><span class="ActionScriptDefault_Text">CHANNEL_GRN</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cmbChannel</span>.<span class="ActionScriptDefault_Text">selectedLabel</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Blue&quot;</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span><span class="ActionScriptDefault_Text">CHANNEL_BLU</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">CHANNEL_ALP</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
        <span class="ActionScriptBracket/Brace">]]</span><span class="ActionScriptOperator">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/mx:Script&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:Move</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">moveOut</span><span class="MXMLDefault_Text">&quot; target=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">boxControls</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot; yFrom=&quot;</span><span class="MXMLString">-300</span><span class="MXMLDefault_Text">&quot; yTo=&quot;</span><span class="MXMLString">30</span><span class="MXMLDefault_Text">&quot; duration=&quot;</span><span class="MXMLString">2000</span><span class="MXMLDefault_Text">&quot; effectEnd=&quot;</span><span class="ActionScriptDefault_Text">onEffectEnd</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;mx:Move</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">moveIn</span><span class="MXMLDefault_Text">&quot; target=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">boxControls</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot; yFrom=&quot;</span><span class="MXMLString">30</span><span class="MXMLDefault_Text">&quot; yTo=&quot;</span><span class="MXMLString">-300</span><span class="MXMLDefault_Text">&quot; duration=&quot;</span><span class="MXMLString">2000</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:VBox</span><span class="MXMLDefault_Text"> height=&quot;</span><span class="MXMLString">300</span><span class="MXMLDefault_Text">&quot; horizontalScrollPolicy=&quot;</span><span class="MXMLString">off</span><span class="MXMLDefault_Text">&quot; verticalScrollPolicy=&quot;</span><span class="MXMLString">off</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>    
<span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> Histogram control panel </span><span class="MXMLComment">--&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:HBox</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">boxControls</span><span class="MXMLDefault_Text">&quot; backgroundColor=&quot;</span><span class="MXMLString">0xFFFFFF</span><span class="MXMLDefault_Text">&quot;
                 paddingBottom=&quot;</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">&quot; paddingLeft=&quot;</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">&quot; paddingRight=&quot;</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">&quot; paddingTop=&quot;</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">&quot; height=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:VBox</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">boxHist</span><span class="MXMLDefault_Text">&quot; height=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;comp:HistogramControl</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">histCtrl</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                
                <span class="MXMLComponent_Tag">&lt;mx:Image</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">imgControls</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">256</span><span class="MXMLDefault_Text">&quot; height=&quot;</span><span class="MXMLString">20</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                
                <span class="MXMLComponent_Tag">&lt;mx:HBox&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Label</span><span class="MXMLDefault_Text"> text=&quot;</span><span class="MXMLString">Black:</span><span class="MXMLDefault_Text">&quot; fontSize=&quot;</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:TextInput</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">txtBlk</span><span class="MXMLDefault_Text">&quot; text=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">38</span><span class="MXMLDefault_Text">&quot; fontSize=&quot;</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">&quot; change=&quot;</span><span class="ActionScriptDefault_Text">onChangeBlk</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Label</span><span class="MXMLDefault_Text"> text=&quot;</span><span class="MXMLString">Gray:</span><span class="MXMLDefault_Text">&quot; fontSize=&quot;</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:TextInput</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">txtGam</span><span class="MXMLDefault_Text">&quot; text=&quot;</span><span class="MXMLString">127</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">38</span><span class="MXMLDefault_Text">&quot; fontSize=&quot;</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">&quot; change=&quot;</span><span class="ActionScriptDefault_Text">onChangeGam</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Label</span><span class="MXMLDefault_Text"> text=&quot;</span><span class="MXMLString">White:</span><span class="MXMLDefault_Text">&quot; fontSize=&quot;</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:TextInput</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">txtWht</span><span class="MXMLDefault_Text">&quot; text=&quot;</span><span class="MXMLString">255</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">38</span><span class="MXMLDefault_Text">&quot; fontSize=&quot;</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">&quot; change=&quot;</span><span class="ActionScriptDefault_Text">onChangeWht</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:HBox&gt;</span>
                
            <span class="MXMLComponent_Tag">&lt;/mx:VBox&gt;</span>    
            <span class="MXMLComponent_Tag">&lt;comp:CurveControl</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">curveCtrl</span><span class="MXMLDefault_Text">&quot; x=&quot;</span><span class="MXMLString">-257</span><span class="MXMLDefault_Text">&quot; includeInLayout=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot; alpha=&quot;</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">&quot; currentColor=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getHistColor</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot; change=&quot;</span><span class="ActionScriptDefault_Text">onChangeCurve</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:HBox&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:VBox</span><span class="MXMLDefault_Text"> horizontalAlign=&quot;</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:HBox&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:Label</span><span class="MXMLDefault_Text"> text=&quot;</span><span class="MXMLString">Channel:</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:ComboBox</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">cmbChannel</span><span class="MXMLDefault_Text">&quot; dataProvider=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">cmbChoices</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">90</span><span class="MXMLDefault_Text">&quot; change=&quot;</span><span class="ActionScriptDefault_Text">onChangeChannel</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot; </span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:HBox&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">btnHist</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">Curve</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">90</span><span class="MXMLDefault_Text">&quot; useHandCursor=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; buttonMode=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">onClickHist</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">btnPreview</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">Preview</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">90</span><span class="MXMLDefault_Text">&quot; useHandCursor=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; buttonMode=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">onClickPreview</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">btnOK</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">OK</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">90</span><span class="MXMLDefault_Text">&quot; useHandCursor=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; buttonMode=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">onClickOK</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">btnAuto</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">Auto</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">90</span><span class="MXMLDefault_Text">&quot; enabled=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot; useHandCursor=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; buttonMode=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">onClickAuto</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">btnCancel</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">Cancel</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">90</span><span class="MXMLDefault_Text">&quot; useHandCursor=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; buttonMode=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">onClickCancel</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:VBox&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/mx:HBox&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:HBox&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:VBox&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:HBox&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:Image</span><span class="MXMLDefault_Text">     id=&quot;</span><span class="MXMLString">imgIcon</span><span class="MXMLDefault_Text">&quot; 
                    source=&quot;</span><span class="MXMLString">@Embed(source=&apos;/../resources/histogram.png&apos;)</span><span class="MXMLDefault_Text">&quot;
                    click=&quot;</span><span class="ActionScriptDefault_Text">onClickIcon</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot; useHandCursor=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; buttonMode=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; </span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:HBox&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:Image</span><span class="MXMLDefault_Text">     id=&quot;</span><span class="MXMLString">imgBlk</span><span class="MXMLDefault_Text">&quot; x=&quot;</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">&quot; y=&quot;</span><span class="MXMLString">180</span><span class="MXMLDefault_Text">&quot; visible=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot; useHandCursor=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; buttonMode=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; 
                source=&quot;</span><span class="MXMLString">@Embed(source=&apos;/../resources/blk_small.png&apos;)</span><span class="MXMLDefault_Text">&quot;
                mouseDown=&quot;</span><span class="ActionScriptDefault_Text">onMouseDownBlk</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;mx:Image</span><span class="MXMLDefault_Text">     id=&quot;</span><span class="MXMLString">imgWht</span><span class="MXMLDefault_Text">&quot; x=&quot;</span><span class="MXMLString">260</span><span class="MXMLDefault_Text">&quot; y=&quot;</span><span class="MXMLString">180</span><span class="MXMLDefault_Text">&quot; visible=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot; useHandCursor=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; buttonMode=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot;  
                source=&quot;</span><span class="MXMLString">@Embed(source=&apos;/../resources/wht_small.png&apos;)</span><span class="MXMLDefault_Text">&quot;
                mouseDown=&quot;</span><span class="ActionScriptDefault_Text">onMouseDownWht</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;mx:Image</span><span class="MXMLDefault_Text">     id=&quot;</span><span class="MXMLString">imgGam</span><span class="MXMLDefault_Text">&quot; x=&quot;</span><span class="MXMLString">132</span><span class="MXMLDefault_Text">&quot; y=&quot;</span><span class="MXMLString">180</span><span class="MXMLDefault_Text">&quot; visible=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot; useHandCursor=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; buttonMode=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot;  
                source=&quot;</span><span class="MXMLString">@Embed(source=&apos;/../resources/gry_small.png&apos;)</span><span class="MXMLDefault_Text">&quot;
                mouseDown=&quot;</span><span class="ActionScriptDefault_Text">onMouseDownGam</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        
<span class="MXMLComponent_Tag">&lt;/mx:Canvas&gt;</span></pre></body>
</html>
